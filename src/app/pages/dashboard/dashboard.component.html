<div class="dashboard">
  <div class="dashboard-header">
    <h2>Dashboard</h2>
    <button (click)="logout()" class="logout-btn">
      <i class="fas fa-sign-out-alt"></i>
      <span>Logout</span>
    </button>
  </div>

  <!-- Dashboard Action Buttons -->
  <div class="quick-actions">
    <div class="actions-grid">
      <!-- Invoice Actions (Primary) -->
      <button class="action-btn" (click)="navigateToCreateInvoice()">
        <div class="btn-icon">
          <i class="fas fa-plus-circle"></i>
        </div>
        <span class="btn-label">Create Invoice</span>
      </button>

      <button class="action-btn" (click)="navigateToViewInvoices()">
        <div class="btn-icon">
          <i class="fas fa-file-invoice-dollar"></i>
        </div>
        <span class="btn-label">View Invoices</span>
      </button>

      <!-- Customer Actions -->
      <button class="action-btn" (click)="navigateToAddCustomer()">
        <div class="btn-icon">
          <i class="fas fa-user-plus"></i>
        </div>
        <span class="btn-label">Add Customer</span>
      </button>

      <button class="action-btn" (click)="navigateToViewCustomers()">
        <div class="btn-icon">
          <i class="fas fa-users"></i>
        </div>
        <span class="btn-label">View Customers</span>
      </button>

      <!-- Revenue Actions -->
      <button class="action-btn" (click)="setActiveSection('monthlyRevenue')">
        <div class="btn-icon">
          <i class="fas fa-calendar-alt"></i>
        </div>
        <span class="btn-label">Monthly Revenue</span>
      </button>

      <!-- Customer Revenue button hidden as requested -->
      <!-- <button class="action-btn" (click)="setActiveSection('customerRevenue')">
        <div class="btn-icon">
          <i class="fas fa-user-chart"></i>
        </div>
        <span class="btn-label">Customer Revenue</span>
      </button> -->

      <button class="action-btn" (click)="setActiveSection('revenueReports')">
        <div class="btn-icon">
          <i class="fas fa-chart-bar"></i>
        </div>
        <span class="btn-label">Revenue Reports</span>
      </button>
    </div>
  </div>

  <!-- Quick Stats Section (keeping from improvements) -->
  <div class="quick-stats">
    <h3 class="stats-title">Quick Stats</h3>
    <div class="stats-grid">
      <div class="stat-card total-revenue">
        <div class="stat-icon">
          <i class="fas fa-rupee-sign"></i>
        </div>
        <div class="stat-content">
          <h4>Total Revenue</h4>
          <p class="stat-value">â‚¹{{ totalRevenue | number:'1.2-2' }}</p>
        </div>
      </div>

      <div class="stat-card outstanding-amount">
        <div class="stat-icon">
          <i class="fas fa-clock"></i>
        </div>
        <div class="stat-content">
          <h4>Outstanding Amount</h4>
          <p class="stat-value">â‚¹{{ outstandingAmount | number:'1.2-2' }}</p>
        </div>
      </div>

      <div class="stat-card collection-rate">
        <div class="stat-icon">
          <i class="fas fa-percentage"></i>
        </div>
        <div class="stat-content">
          <h4>Collection Rate</h4>
          <p class="stat-value">{{ collectionRate | number:'1.1-1' }}%</p>
        </div>
      </div>

      <div class="stat-card total-customers" (click)="navigateToViewCustomers()">
        <div class="stat-icon">
          <i class="fas fa-users"></i>
        </div>
        <div class="stat-content">
          <h4>Total Customers</h4>
          <p class="stat-value">{{ totalCustomers }}</p>
        </div>
      </div>

      <div class="stat-card total-invoices" (click)="navigateToViewInvoices()">
        <div class="stat-icon">
          <i class="fas fa-file-invoice-dollar"></i>
        </div>
        <div class="stat-content">
          <h4>Total Invoices</h4>
          <p class="stat-value">{{ totalInvoices }}</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Revenue Sections (from original) -->
  <!-- Monthly Revenue Section -->
  <div *ngIf="activeCategory === 'revenue' && activeSection === 'monthlyRevenue'" class="section-container">
    <h3>Monthly Revenue Overview</h3>
    <div class="revenue-cards">
      <div class="revenue-card">
        <h4>This Month</h4>
        <div class="revenue-amount">â‚¹{{ totalRevenue | number:'1.2-2' }}</div>
        <div class="revenue-trend positive">Current period</div>
      </div>
      <div class="revenue-card">
        <h4>Outstanding</h4>
        <div class="revenue-amount">â‚¹{{ outstandingAmount | number:'1.2-2' }}</div>
        <div class="revenue-trend">Pending collection</div>
      </div>
      <div class="revenue-card">
        <h4>Collection Rate</h4>
        <div class="revenue-amount">{{ collectionRate | number:'1.1-1' }}%</div>
        <div class="revenue-trend">Efficiency rate</div>
      </div>
    </div>
    <div class="chart-container">
      <h4>Monthly Revenue Trend</h4>
      <div class="chart-placeholder">
        <p>ðŸ“Š Chart will display monthly revenue trends</p>
        <small>Integration with charting library can be added here</small>
      </div>
    </div>
  </div>

  <!-- Customer Revenue Section -->
  <div *ngIf="activeCategory === 'revenue' && activeSection === 'customerRevenue'" class="section-container">
    <h3>Customer Revenue Analysis</h3>
    <div class="customer-revenue-list">
      <div class="customer-revenue-header">
        <span>Customer</span>
        <span>Total Revenue</span>
        <span>Invoices</span>
        <span>Outstanding</span>
      </div>
      <div class="customer-revenue-row" *ngFor="let customer of customers">
        <span class="customer-name">{{ customer.name }}</span>
        <span class="revenue-amount">â‚¹0.00</span>
        <span class="invoice-count">0</span>
        <span class="outstanding paid">â‚¹0.00</span>
      </div>
    </div>
  </div>

  <!-- Revenue Reports Section -->
  <div *ngIf="activeCategory === 'revenue' && activeSection === 'revenueReports'" class="section-container">
    <h3>Revenue Reports & Analytics</h3>
    <div class="report-options">
      <div class="report-card">
        <h4>ðŸ“Š Income Statement</h4>
        <p>Detailed breakdown of revenue, expenses, and profit</p>
        <button class="report-btn">Generate Report</button>
      </div>
      <div class="report-card">
        <h4>ðŸ“ˆ Revenue Growth</h4>
        <p>Year-over-year and month-over-month growth analysis</p>
        <button class="report-btn">Generate Report</button>
      </div>
      <div class="report-card">
        <h4>ðŸ’° Payment Analytics</h4>
        <p>Payment patterns, collection efficiency, and aging analysis</p>
        <button class="report-btn">Generate Report</button>
      </div>
      <div class="report-card">
        <h4>ðŸ“‹ Tax Summary</h4>
        <p>GST and tax summaries for compliance reporting</p>
        <button class="report-btn">Generate Report</button>
      </div>
    </div>
  </div>
</div>

<!-- Coming Soon Popup Modal -->
<div *ngIf="showComingSoonPopup" class="coming-soon-overlay" (click)="closeComingSoonPopup()">
  <div class="coming-soon-modal" (click)="$event.stopPropagation()">
    <div class="coming-soon-header">
      <div class="coming-soon-icon">
        <i class="fas fa-rocket"></i>
      </div>
      <button class="close-btn" (click)="closeComingSoonPopup()">
        <i class="fas fa-times"></i>
      </button>
    </div>
    <div class="coming-soon-content">
      <h2>Coming Soon!</h2>
      <h3>{{ comingSoonFeature }}</h3>
      <p>We're working hard to bring you this exciting feature. It will include:</p>
      <ul class="feature-list">
        <li *ngIf="comingSoonFeature.includes('Monthly')">
          <i class="fas fa-chart-line"></i> Interactive monthly revenue charts
        </li>
        <li *ngIf="comingSoonFeature.includes('Monthly')">
          <i class="fas fa-calendar-alt"></i> Year-over-year comparisons
        </li>
        <li *ngIf="comingSoonFeature.includes('Customer')">
          <i class="fas fa-users"></i> Customer-wise revenue breakdown
        </li>
        <li *ngIf="comingSoonFeature.includes('Customer')">
          <i class="fas fa-crown"></i> Top customer analytics
        </li>
        <li *ngIf="comingSoonFeature.includes('Reports')">
          <i class="fas fa-file-download"></i> Downloadable PDF reports
        </li>
        <li *ngIf="comingSoonFeature.includes('Reports')">
          <i class="fas fa-filter"></i> Advanced filtering options
        </li>
        <li><i class="fas fa-mobile-alt"></i> Mobile-optimized interface</li>
        <li><i class="fas fa-clock"></i> Real-time data updates</li>
      </ul>
      <div class="coming-soon-footer">
        <p class="timeline">Expected release: <strong>Next Update</strong></p>
        <button class="notify-btn" (click)="closeComingSoonPopup()">
          <i class="fas fa-bell"></i> Got it!
        </button>
      </div>
    </div>
  </div>

  <app-logout-modal
    [isVisible]="showLogoutModal"
    (confirmed)="onLogoutConfirmed()"
    (cancelled)="onLogoutCancelled()">
  </app-logout-modal>
</div>
